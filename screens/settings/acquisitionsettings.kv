<AcquisitionSettings>:
    m: m

    BoxLayout:
        orientation: 'vertical'

        SettingsScreens:
            id: m

        Menu:


<Menu>:

    rows: 1
    size_hint: (1, None)
    height: 50
    spacing: 5
    padding: 5
    ToggleButton:
        state: 'down'
        text: 'Simulator'
        group: 'mainmenu'
        on_press:
            root.parent.parent.m.current = 'simu'
            if self.state == 'normal': self.state = 'down'
    ToggleButton:
        text: 'OpenBCI'
        group: 'mainmenu'
        on_press:
            root.parent.parent.m.current = 'openbci'
            if self.state == 'normal': self.state = 'down'

<SettingsScreens>:

    Simulator:
        name: 'simu'

    OpenBCI:
        name: 'openbci'

<Simulator>:

    StdSettingsContainer:
        pos_hint: {'top': 1}

        StdSettingTitle:
            title: 'GestureSurface behavior'
            desc: 'Affects how gestures are detected and cleaned up'

        StdSettingSlider:
            id: max_strokes
            title: 'Max strokes'
            type: 'int'
            desc: 
                ('Max number of strokes for a single gesture. If 0, the ' +
                'gesture will only be analyzed once the temporal window has ' +
                'expired since the last strokes touch up event')
            value: 4
            min: 0
            max: 15

        StdSettingSlider:
            id: temporal_win
            title: 'Temporal Window'
            type: 'float'
            desc: 
                ('Time to wait from last touch up in a gesture before analyzing ' +
                'the input. If 0, only analyzed once Max Strokes is reached')
            value: 2.
            min: 0
            max: 60.

        StdSettingTitle:
            title: 'Drawing'
            desc: 'Affects how gestures are visualized on the GestureSurface'

        StdSettingSlider:
            id: timeout
            title: 'Draw Timeout'
            type: 'float'
            desc: 
                ('How long to display the gesture (and result label) on the ' +
                'gesture surface once analysis has completed')
            value: 2.
            min: 0
            max: 60.

        StdSettingSlider:
            id: line_width
            title: 'Line width'
            type: 'int'
            desc: 
                ('Width of lines on the gesture surface; 0 does not draw ' +
                'anything; 1 uses OpenGL line, >1 uses custom drawing method.')
            value: 2
            min: 0
            max: 10

        StdSettingBoolean:
            id: draw_bbox
            title: 'Draw gesture bounding box?'
            desc: 'Enable to draw a bounding box around the gesture'
            button_text: 'Draw bbox?'
            value: True


<OpenBCI>:
    StdSettingsContainer:
        pos_hint: {'top': 1}
        Label:
            text: 'openbci'