<AcquisitionSettings>:
    m: m

    BoxLayout:
        orientation: 'vertical'

        Menu:

        SettingsScreens:
            id: m

        GridLayout:
            rows: 1
            size_hint: (1, None)
            height: 50
            spacing: 5
            padding: 5

            Button:
                font_size: 20
                text: 'Back'
                on_press: root.change_to_bci() 

            Button:
                font_size: 20
                text: 'Save'
                on_press: root.save_config()


<Menu>:

    rows: 1
    size_hint: (1, None)
    height: 50
    spacing: 5
    padding: 5
    ToggleButton:
        state: 'down'
        text: 'Simulator'
        group: 'mainmenu'
        on_press:
            root.parent.parent.m.current = 'simu'
            if self.state == 'normal': self.state = 'down'
    ToggleButton:
        text: 'OpenBCI'
        group: 'mainmenu'
        on_press:
            root.parent.parent.m.current = 'openbci'
            if self.state == 'normal': self.state = 'down'

<SettingsScreens>:
    
    simulator: simulator
    openbci: openbci

    Simulator:
        id: simulator
        name: 'simu'

    OpenBCI:
        id: openbci
        name: 'openbci'

<Simulator>:

    StdSettingsContainer:
        pos_hint: {'top': 1}

        StdSettingTitle:
            title: 'Simulator configuration'
            desc: 'Set the paths to local EEG files'

        StdSettingString:
            id: eeg_path
            title: 'Path to EEG file'
            desc: 'The path to the EEG dataset for playback'
            value: ''

        StdSettingString:
            id: labels_path
            title: 'Path to labels'
            desc: 'The path to the labels of EEG dataset'
            value: ''

        StdSettingSlider:
            id: srate
            title: 'Sample Rate'
            type: 'int'
            desc: 'Sample Rate in Hz of the input dataset'
            value: 250
            min: 0
            max: 1000

<OpenBCI>:
    StdSettingsContainer:
        pos_hint: {'top': 1}
        Label:
            text: 'openbci'

        # StdSettingTitle:
        #     title: 'Drawing'
        #     desc: 'Affects how gestures are visualized on the GestureSurface'

        # StdSettingSlider:
        #     id: timeout
        #     title: 'Draw Timeout'
        #     type: 'float'
        #     desc: 
        #         ('How long to display the gesture (and result label) on the ' +
        #         'gesture surface once analysis has completed')
        #     value: 2.
        #     min: 0
        #     max: 60.

        # StdSettingBoolean:
        #     id: draw_bbox
        #     title: 'Draw gesture bounding box?'
        #     desc: 'Enable to draw a bounding box around the gesture'
        #     button_text: 'Draw bbox?'
        #     value: True

        # StdSettingString:
        #     id: eeg_path
        #     title: 'Draw gesture bounding box?'
        #     desc: 'Enable to draw a bounding box around the gesture'
        #     button_text: 'Draw bbox?'
        #     value: ''